!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{GXrT:function(o,t,i){"use strict";i.r(t),i.d(t,"Tab4PageModule",function(){return z});var r=i("ofXK"),s=i("3Pt+"),c=i("TEn/"),a=i("tyNb"),l=i("mrSG"),u=i("W3Zi"),b=i("IeiB"),d=i("fXoL"),g=i("lGQG"),p=i("IfdK"),h=i("yHma"),f=i("92l+"),m=i("Bfh1"),M=i("WOgW");function C(e,n){1&e&&(d.Mb(0,"section",6),d.Kb(1,"ion-spinner",7),d.Lb())}function v(e,n){if(1&e){var o=d.Nb();d.Mb(0,"ion-header"),d.Mb(1,"ion-grid",8),d.Mb(2,"ion-row",9),d.Mb(3,"ion-col",10),d.Mb(4,"ion-icon",11),d.Ub("click",function(){return d.ec(o),d.Wb().presentAlertLocationConfirm()}),d.Lb(),d.Mb(5,"ion-icon",12),d.Ub("click",function(){return d.ec(o),d.Wb().presentAlertConfirm()}),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()}}function L(e,n){if(1&e){var o=d.Nb();d.Mb(0,"section",13),d.Ub("click",function(){return d.ec(o),d.Wb().openLoginComponent()}),d.Mb(1,"ion-col",14),d.Kb(2,"img",15),d.Lb(),d.Mb(3,"p",16),d.ic(4," Inicia sesi\xf3n o registrate para ver tu perfil y hacer pedidos"),d.Lb(),d.Lb()}}function P(e,n){if(1&e){var o=d.Nb();d.Mb(0,"ion-row",25),d.Mb(1,"ion-col",26),d.Kb(2,"ion-icon",27),d.Mb(3,"ion-label",28),d.ic(4,"Nombre (s)"),d.Lb(),d.Mb(5,"ion-input",29),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.Name=e}),d.Lb(),d.Lb(),d.Mb(6,"ion-col",26),d.Kb(7,"ion-icon",30),d.Mb(8,"ion-label",28),d.ic(9,"Email"),d.Lb(),d.Mb(10,"ion-input",31),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.Email=e}),d.Lb(),d.Lb(),d.Mb(11,"ion-col",32),d.Kb(12,"ion-icon",33),d.Mb(13,"ion-label",28),d.ic(14,"Contrase\xf1a"),d.Lb(),d.Mb(15,"ion-input",34),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.Password=e}),d.Lb(),d.Lb(),d.Mb(16,"ion-col",32),d.Kb(17,"ion-icon",35),d.Mb(18,"ion-label",28),d.ic(19,"Celular"),d.Lb(),d.Mb(20,"ion-input",36),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.Phone=e}),d.Lb(),d.Lb(),d.Lb()}if(2&e){var t=d.Wb(2);d.zb(5),d.cc("ngModel",t.user.Name),d.zb(5),d.cc("ngModel",t.user.Email),d.zb(5),d.cc("ngModel",t.user.Password),d.zb(5),d.cc("ngModel",t.user.Phone)}}function y(e,n){if(1&e){var o=d.Nb();d.Mb(0,"ion-row",25),d.Mb(1,"ion-col",26),d.Kb(2,"ion-icon",37),d.Mb(3,"ion-label",28),d.ic(4,"Direcci\xf3n"),d.Lb(),d.Mb(5,"ion-input",38),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.Address=e}),d.Lb(),d.Lb(),d.Mb(6,"ion-col",32),d.Mb(7,"ion-label",28),d.ic(8,"Colonia"),d.Lb(),d.Mb(9,"ion-input",39),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.AddressColone=e}),d.Lb(),d.Lb(),d.Mb(10,"ion-col",32),d.Mb(11,"ion-label",28),d.ic(12,"Codigo postal"),d.Lb(),d.Mb(13,"ion-input",40),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.AddressZipCode=e}),d.Lb(),d.Lb(),d.Mb(14,"ion-col",32),d.Mb(15,"ion-label",28),d.ic(16,"Estado"),d.Lb(),d.Mb(17,"ion-input",41),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.AddressState=e}),d.Lb(),d.Lb(),d.Mb(18,"ion-col",32),d.Mb(19,"ion-label",28),d.ic(20,"Ciudad"),d.Lb(),d.Mb(21,"ion-input",42),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.AddressCity=e}),d.Lb(),d.Lb(),d.Lb()}if(2&e){var t=d.Wb(2);d.zb(5),d.cc("ngModel",t.user.Address),d.zb(4),d.cc("ngModel",t.user.AddressColone),d.zb(4),d.cc("ngModel",t.user.AddressZipCode),d.zb(4),d.cc("ngModel",t.user.AddressState),d.zb(4),d.cc("ngModel",t.user.AddressCity)}}function x(e,n){if(1&e){var o=d.Nb();d.Mb(0,"ion-row",25),d.Mb(1,"ion-col",26),d.Kb(2,"ion-icon",43),d.Mb(3,"ion-label",28),d.ic(4,"Tarjeta"),d.Lb(),d.Mb(5,"ion-input",44),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.CardNumber=e}),d.Lb(),d.Lb(),d.Mb(6,"ion-col",32),d.Mb(7,"ion-label",28),d.ic(8,"Mes"),d.Lb(),d.Mb(9,"ion-input",45),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.CardMonth=e}),d.Lb(),d.Lb(),d.Mb(10,"ion-col",32),d.Mb(11,"ion-label",28),d.ic(12,"A\xf1o"),d.Lb(),d.Mb(13,"ion-input",46),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.CardYear=e}),d.Lb(),d.Lb(),d.Mb(14,"ion-col",26),d.Mb(15,"ion-label",28),d.ic(16,"Nombre"),d.Lb(),d.Mb(17,"ion-input",47),d.Ub("ngModelChange",function(e){return d.ec(o),d.Wb(2).user.CardName=e}),d.Lb(),d.Lb(),d.Lb()}if(2&e){var t=d.Wb(2);d.zb(5),d.cc("ngModel",t.user.CardNumber),d.zb(4),d.cc("ngModel",t.user.CardMonth),d.zb(4),d.cc("ngModel",t.user.CardYear),d.zb(4),d.cc("ngModel",t.user.CardName)}}function w(e,n){if(1&e){var o=d.Nb();d.Mb(0,"section",17),d.Mb(1,"ion-col",18),d.Kb(2,"img",19),d.Lb(),d.Mb(3,"ion-row",20),d.Mb(4,"ion-segment",21),d.Ub("ionChange",function(e){return d.ec(o),d.Wb().userSegmentChanged(e)})("ngModelChange",function(e){return d.ec(o),d.Wb().segmentValue=e}),d.Mb(5,"ion-segment-button",22),d.Mb(6,"ion-label"),d.ic(7,"Perfil"),d.Lb(),d.Lb(),d.Mb(8,"ion-segment-button",23),d.Mb(9,"ion-label"),d.ic(10,"Direcci\xf3n"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.hc(11,P,21,4,"ion-row",24),d.hc(12,y,22,5,"ion-row",24),d.hc(13,x,18,4,"ion-row",24),d.Lb()}if(2&e){var t=d.Wb();d.zb(4),d.cc("ngModel",t.segmentValue),d.zb(7),d.cc("ngIf","profile"==t.segmentValue),d.zb(1),d.cc("ngIf","address"==t.segmentValue),d.zb(1),d.cc("ngIf","cards"==t.segmentValue)}}function A(e,n){if(1&e){var o=d.Nb();d.Mb(0,"section",48),d.Mb(1,"ion-button",49),d.Ub("click",function(){return d.ec(o),d.Wb().updateUser()}),d.ic(2,"Guardar"),d.Lb(),d.Lb()}if(2&e){var t=d.Wb();d.zb(1),d.cc("disabled",1==t.serverProcess)}}var I,U,k,S=[{path:"",component:(I=function(){function o(n,t,i,r,s,c,a,l,u,d){e(this,o),this.navController=n,this.authService=t,this.modalCtrl=i,this.sessionService=r,this.alertController=s,this.router=c,this.location=a,this.locationAccuracy=l,this.geolocation=u,this.androidPermissions=d,this.user=new b.c,this.serverProcess=!1,this.segmentValue="profile",this.currentUserLocationIntents=0}var t,i,r;return t=o,(i=[{key:"ionViewWillEnter",value:function(){console.log("ionViewWillEnter"),this.validateUserSession()}},{key:"validateUserSession",value:function(){var e=this;this.serverProcess=!0,setTimeout(function(){e.user=e.sessionService.getLocalUser(),e.serverProcess=!1,e.user||e.openLoginComponent()},500)}},{key:"updateUser",value:function(){var e=this;this.user.Name&&this.user.Phone&&this.user.Email&&this.user.Password?(this.serverProcess=!0,this.sessionService.postUser(this.user,"update").subscribe(function(n){console.log(n),setTimeout(function(){e.serverProcess=!1,e.presentAlert(n.statusName,n.statusDescription)},1500)})):this.presentAlert("Error","Es necesario completar la informaci\xf3n para continuar")}},{key:"userSegmentChanged",value:function(e){console.log(e.detail.value),this.segmentValue=e.detail.value}},{key:"openLoginComponent",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:u.a,id:"LoginComponent"});case 2:return(n=e.sent).onDidDismiss().then(function(e){console.log(e),"refresh"==e.data&&o.validateUserSession()}),n.present(),e.next=7,n.onWillDismiss();case 7:case"end":return e.stop()}},e,this)}))}},{key:"presentAlert",value:function(e,n){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var t,i,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.alertController.create({header:e,message:n,buttons:["OK"]});case 2:return t=o.sent,o.next=5,t.present();case 5:return o.next=7,t.onDidDismiss();case 7:i=o.sent,r=i.role,console.log("onDidDismiss resolved with role",r);case 10:case"end":return o.stop()}},o,this)}))}},{key:"presentAlertConfirm",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Salir",message:"\xbfSeguro que desea cerrar su sesion?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Salir",handler:function(){o.serverProcess=!0,setTimeout(function(){o.authService.setAuth(!1),o.sessionService.closeLocalUser(),o.router.navigateByUrl("/start")},500)}}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"presentAlertLocationConfirm",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Activar GPS",message:"\xbfActiva tu GPS para ver todos los producto y obtener envio gratis?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Si",handler:function(){o.serverProcess=!0,setTimeout(function(){o.checkPermission()},500)}}]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"checkPermission",value:function(){var e=this;if(this.currentUserLocationIntents=this.currentUserLocationIntents+1,console.log(this.currentUserLocationIntents),this.currentUserLocationIntents%2==0)return this.presentAlert("Modo de prueba","Ubicac\xedon de prueba: Cd. Delicias"),this.location.setCurrentUserLocation("Delicias"),void(this.serverProcess=!1);this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(function(n){n.hasPermission?e.enableGPS():e.locationAccPermission()},function(n){e.presentAlert("checkPermission Error","No pudimos acceder a tu ubicaci\xf3n,  si estas en Cd. Delicias enciende tu gps y tu envio sera gratis"),e.location.setCurrentUserLocation("Nacional"),e.serverProcess=!1})}},{key:"locationAccPermission",value:function(){var e=this;this.locationAccuracy.canRequest().then(function(n){n||e.androidPermissions.requestPermission(e.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(function(){e.enableGPS()},function(n){e.presentAlert("locationAccPermission Error","No pudimos acceder a tu ubicaci\xf3n, si estas en Cd. Delicias enciende tu gps y tu envio sera gratis"),e.location.setCurrentUserLocation("Nacional"),e.serverProcess=!1})})}},{key:"enableGPS",value:function(){var e=this;this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(function(){e.currentLocPosition()},function(n){JSON.stringify(n),e.presentAlert("enableGPS Error","No pudimos acceder a tu ubicaci\xf3n, si estas en Cd. Delicias enciende tu gps y tu envio sera gratis"),e.location.setCurrentUserLocation("Nacional"),e.serverProcess=!1})}},{key:"currentLocPosition",value:function(){var e=this;this.geolocation.getCurrentPosition().then(function(n){console.log(n),e.location.getUserLocation(n.coords.latitude,n.coords.longitude).subscribe(function(n){console.log(n),200==n.statusID?(e.location.setCurrentUserLocation("Delicias"),e.presentAlert("Exito","Tu ubicacion actual en de Cd. Delicias te da servicio a domicilio gratis")):(e.location.setCurrentUserLocation("Nacional"),e.presentAlert("Exito","Tu ubicacion actual fuera de Cd. Delicias no cuenta con la promoci\xf3n de envio gratis")),e.serverProcess=!1})}).catch(function(n){e.presentAlert("currentLocPosition Error",n),e.presentAlert("currentLocPosition Error","No pudimos acceder a tu ubicaci\xf3n, si estas en Cd. Delicias enciende tu gps y tu envio sera gratis"),e.location.setCurrentUserLocation("Nacional"),e.serverProcess=!1})}}])&&n(t.prototype,i),r&&n(t,r),o}(),I.\u0275fac=function(e){return new(e||I)(d.Jb(c.C),d.Jb(g.a),d.Jb(c.B),d.Jb(p.a),d.Jb(c.a),d.Jb(a.g),d.Jb(h.a),d.Jb(f.a),d.Jb(m.a),d.Jb(M.a))},I.\u0275cmp=d.Db({type:I,selectors:[["app-tab4"]],decls:6,vars:5,consts:[["class","ion-spinner-section",4,"ngIf"],["mode","ios"],[4,"ngIf"],["class","ion-text-center tab-no-session-message",3,"click",4,"ngIf"],["style","margin:5px;",4,"ngIf"],["style","padding:0px 15px; margin:10px;",4,"ngIf"],[1,"ion-spinner-section"],["color","primary","name","lines"],[1,"grid-container"],["justify-content-around",""],["size","12",1,"ion-text-right"],["name","location-outline",1,"header-location-icon","mr-15",3,"click"],["name","chevron-forward-outline",1,"header-location-icon",3,"click"],[1,"ion-text-center","tab-no-session-message",3,"click"],["size","12",1,"my_profile_no_session"],["src","../assets/svg/login.svg"],[1,"section-p-no-session-message"],[2,"margin","5px"],["size","12",1,"my_profile"],["src","../assets/svg/my_profile.svg"],["justify-content-around","",2,"margin","5px 30px 30px 30px"],[3,"ngModel","ionChange","ngModelChange"],["value","profile"],["value","address"],["justify-content-around","","class","segment-row",4,"ngIf"],["justify-content-around","",1,"segment-row"],["size","12"],["name","person-outline"],[1,"form-label-text"],["placeholder","Nombre (s)","clearInput","",3,"ngModel","ngModelChange"],["name","mail-open-outline"],["placeholder","Email","clearInput","",3,"ngModel","ngModelChange"],["size","6"],["name","lock-closed-outline"],["clearInput","",3,"ngModel","ngModelChange"],["name","call-outline"],["placeholder","Celular","clearInput","",3,"ngModel","ngModelChange"],["name","location-outline"],["placeholder","Calle","clearInput","",3,"ngModel","ngModelChange"],["placeholder","Colonia","clearInput","",3,"ngModel","ngModelChange"],["placeholder","C.P","clearInput","",3,"ngModel","ngModelChange"],["placeholder","Estado","clearInput","",3,"ngModel","ngModelChange"],["placeholder","Ciudad","clearInput","",3,"ngModel","ngModelChange"],["name","card-outline"],["placeholder","No. de la tarjeta","clearInput","",3,"ngModel","ngModelChange"],["placeholder","Mes","clearInput","",3,"ngModel","ngModelChange"],["placeholder","A\xf1o","clearInput","",3,"ngModel","ngModelChange"],["placeholder","Nombre en la tarjeta","clearInput","",3,"ngModel","ngModelChange"],[2,"padding","0px 15px","margin","10px"],["expand","block",3,"disabled","click"]],template:function(e,n){1&e&&(d.hc(0,C,2,0,"section",0),d.Mb(1,"ion-content",1),d.hc(2,v,6,0,"ion-header",2),d.hc(3,L,5,0,"section",3),d.hc(4,w,14,4,"section",4),d.hc(5,A,3,1,"section",5),d.Lb()),2&e&&(d.cc("ngIf",1==n.serverProcess),d.zb(2),d.cc("ngIf",n.user),d.zb(1),d.cc("ngIf",!n.user),d.zb(1),d.cc("ngIf",n.user),d.zb(1),d.cc("ngIf",n.user))},directives:[r.j,c.f,c.u,c.i,c.h,c.q,c.e,c.j,c.r,c.F,s.d,s.g,c.s,c.m,c.k,c.G,c.c],styles:["ion-input[_ngcontent-%COMP%]{font-family:GilroyLight;background-position:left 8px center;height:auto;font-size:1rem;font-weight:400;color:#7f8490;background-color:#fafbfc;border-bottom:1px solid rgba(0,0,0,.12941176470588237);--padding-start:10px!important}.input-label-text[_ngcontent-%COMP%]{font-family:GilroyLight;font-size:.7rem;padding-bottom:0!important}.form-label-text[_ngcontent-%COMP%]{padding-left:8px}ion-col[_ngcontent-%COMP%]{margin-bottom:14px}.tab-no-session-message[_ngcontent-%COMP%]{font-family:GilroyLight;height:auto;font-weight:400;color:var(--ion-color-primary)!important;padding:10px;margin-top:20%}.my_profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;margin:auto;display:block;border-radius:100%;border:2px solid #8c715c}.my_profile_no_session[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:30%!important;width:50%;margin:auto;display:block}.section-p-no-session-message[_ngcontent-%COMP%]{padding:0 20px}.segment-row[_ngcontent-%COMP%]{margin:20px 10px 10px}ion-header[_ngcontent-%COMP%]{position:absolute;z-index:999;width:100%;position:fixed;padding:5px 8px 0 5px}.header-icons[_ngcontent-%COMP%]{font-size:30px;color:rgba(244,67,54,.7098039215686275)}.header-location-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff;background-color:var(--ion-color-primary-shade);border-radius:100%;padding:5px;box-shadow:0 0 20px #795548}.mr-15[_ngcontent-%COMP%]{margin-right:15px!important}"]}),I)}],N=((k=function n(){e(this,n)}).\u0275fac=function(e){return new(e||k)},k.\u0275mod=d.Hb({type:k}),k.\u0275inj=d.Gb({imports:[[a.i.forChild(S)],a.i]}),k),z=((U=function n(){e(this,n)}).\u0275fac=function(e){return new(e||U)},U.\u0275mod=d.Hb({type:U}),U.\u0275inj=d.Gb({imports:[[r.b,s.a,c.y,N]]}),U)}}])}();